<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Model Viewer</title>

    <!-- JQUERY Libs //-->
    <script src="js/lib/jquery.min.js"></script>

    <!-- WEBGL Libs //-->
    <script src="js/lib/twgl-full.js"></script>

    <! -- Shaders //-->
    <script id="vs" type="x-shader/x-vertex">
        attribute vec4 position;

        void main() 
        {
           gl_Position = position;
        }
    </script>

    <script id="fs" type="x-shader/x-fragment">
        void main()
        {
            gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
        }
    </script>

    <script>
        $(document).ready(function() {
            var gl = document.getElementById("c").getContext("webgl");
            var programInfo = twgl.createProgramInfo(gl, ["vs", "fs"]);

            var arrays = {
                position: [
                    -0.5, -0.5, 0, 
                     0.5, -0.5, 0, 
                    -0.5,  0.5, 0, 
                    -0.5,  0.5, 0, 
                     0.5, -0.5, 0, 
                     0.5,  0.5, 0, 
                ],
            };

            var myRequest = new Request('box.json');

            fetch(myRequest)
                .then(function(response) { return response.json(); })
                .then(function(data) {
                    arrays["position"] = data.meshes[0].vertices;
                });

            var bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);

            function render(time) {
                gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
                gl.clearColor(0, 0, 0, 1);
                gl.clear(gl.COLOR_BUFFER_BIT);

                gl.useProgram(programInfo.program);
                twgl.setBuffersAndAttributes(gl, programInfo, bufferInfo);
                twgl.drawBufferInfo(gl, bufferInfo);

                requestAnimationFrame(render);
            }

            requestAnimationFrame(render);
        });
    </script>
</head>
<body>
    <canvas id="c" width="400" height="400">
        Please use a browser supporting "canvas"
    </canvas>

    <script type="text/javascript">

        
    </script>
</body>
</html>
